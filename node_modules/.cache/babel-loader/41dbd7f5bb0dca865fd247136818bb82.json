{"ast":null,"code":"import _ from \"lodash\";\nexport function getSum(transaction, type) {\n  let sum = _(transaction).groupBy(\"type\").map((obj, key) => {\n    if (!type) return _.sumBy(obj, \"amount\");\n    return {\n      type: key,\n      color: obj[0].color,\n      total: _.sumBy(obj, \"amount\")\n    };\n  }).value();\n\n  return sum;\n}\nexport function getLabels(transaction) {\n  let amountSum = getSum(transaction, \"type\");\n\n  let Total = _.sum(getSum(transaction));\n\n  let percent = _(amountSum).map(objs => _.assign(objs, {\n    percent: 100 * objs.total / Total\n  })).value();\n\n  return percent;\n}\nexport function chartData(transaction) {\n  let bg = _.map(transaction, a => a.color);\n\n  bg = _.uniq(bg);\n  console.log(bg);\n  let dataValue = getSum(transaction);\n  const config = {\n    data: {\n      datasets: [{\n        data: [300, 50, 100],\n        backgroundColor: [\"rgb(255, 99, 132)\", \"rgb(54, 162, 235)\", \"rgb(255, 205, 86)\"],\n        hoverOffset: 4,\n        borderRadius: 30,\n        spacing: 10\n      }]\n    },\n    options: {\n      cutout: 115\n    }\n  };\n}","map":{"version":3,"names":["_","getSum","transaction","type","sum","groupBy","map","obj","key","sumBy","color","total","value","getLabels","amountSum","Total","percent","objs","assign","chartData","bg","a","uniq","console","log","dataValue","config","data","datasets","backgroundColor","hoverOffset","borderRadius","spacing","options","cutout"],"sources":["/home/linarifux/projects/expense-tracker/client/src/helper/helper.jsx"],"sourcesContent":["import _ from \"lodash\";\n\nexport function getSum(transaction, type) {\n  let sum = _(transaction)\n    .groupBy(\"type\")\n    .map((obj, key) => {\n      if (!type) return _.sumBy(obj, \"amount\");\n      return {\n        type: key,\n        color: obj[0].color,\n        total: _.sumBy(obj, \"amount\"),\n      };\n    })\n    .value();\n  return sum;\n}\nexport function getLabels(transaction) {\n  let amountSum = getSum(transaction, \"type\");\n  let Total = _.sum(getSum(transaction));\n  let percent = _(amountSum)\n    .map((objs) => _.assign(objs, { percent: (100 * objs.total) / Total }))\n    .value();\n  return percent;\n}\n\nexport function chartData(transaction) {\n    let bg = _.map(transaction, a=> a.color)\n    bg = _.uniq(bg)\n    console.log(bg);\n    let dataValue = getSum(transaction)\n\n  const config = {\n    data: {\n      datasets: [\n        {\n          data: [300, 50, 100],\n          backgroundColor: [\n            \"rgb(255, 99, 132)\",\n            \"rgb(54, 162, 235)\",\n            \"rgb(255, 205, 86)\",\n          ],\n          hoverOffset: 4,\n          borderRadius: 30,\n          spacing: 10,\n        },\n      ],\n    },\n    options: {\n      cutout: 115,\n    },\n  };\n}\n"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AAEA,OAAO,SAASC,MAAT,CAAgBC,WAAhB,EAA6BC,IAA7B,EAAmC;EACxC,IAAIC,GAAG,GAAGJ,CAAC,CAACE,WAAD,CAAD,CACPG,OADO,CACC,MADD,EAEPC,GAFO,CAEH,CAACC,GAAD,EAAMC,GAAN,KAAc;IACjB,IAAI,CAACL,IAAL,EAAW,OAAOH,CAAC,CAACS,KAAF,CAAQF,GAAR,EAAa,QAAb,CAAP;IACX,OAAO;MACLJ,IAAI,EAAEK,GADD;MAELE,KAAK,EAAEH,GAAG,CAAC,CAAD,CAAH,CAAOG,KAFT;MAGLC,KAAK,EAAEX,CAAC,CAACS,KAAF,CAAQF,GAAR,EAAa,QAAb;IAHF,CAAP;EAKD,CATO,EAUPK,KAVO,EAAV;;EAWA,OAAOR,GAAP;AACD;AACD,OAAO,SAASS,SAAT,CAAmBX,WAAnB,EAAgC;EACrC,IAAIY,SAAS,GAAGb,MAAM,CAACC,WAAD,EAAc,MAAd,CAAtB;;EACA,IAAIa,KAAK,GAAGf,CAAC,CAACI,GAAF,CAAMH,MAAM,CAACC,WAAD,CAAZ,CAAZ;;EACA,IAAIc,OAAO,GAAGhB,CAAC,CAACc,SAAD,CAAD,CACXR,GADW,CACNW,IAAD,IAAUjB,CAAC,CAACkB,MAAF,CAASD,IAAT,EAAe;IAAED,OAAO,EAAG,MAAMC,IAAI,CAACN,KAAZ,GAAqBI;EAAhC,CAAf,CADH,EAEXH,KAFW,EAAd;;EAGA,OAAOI,OAAP;AACD;AAED,OAAO,SAASG,SAAT,CAAmBjB,WAAnB,EAAgC;EACnC,IAAIkB,EAAE,GAAGpB,CAAC,CAACM,GAAF,CAAMJ,WAAN,EAAmBmB,CAAC,IAAGA,CAAC,CAACX,KAAzB,CAAT;;EACAU,EAAE,GAAGpB,CAAC,CAACsB,IAAF,CAAOF,EAAP,CAAL;EACAG,OAAO,CAACC,GAAR,CAAYJ,EAAZ;EACA,IAAIK,SAAS,GAAGxB,MAAM,CAACC,WAAD,CAAtB;EAEF,MAAMwB,MAAM,GAAG;IACbC,IAAI,EAAE;MACJC,QAAQ,EAAE,CACR;QACED,IAAI,EAAE,CAAC,GAAD,EAAM,EAAN,EAAU,GAAV,CADR;QAEEE,eAAe,EAAE,CACf,mBADe,EAEf,mBAFe,EAGf,mBAHe,CAFnB;QAOEC,WAAW,EAAE,CAPf;QAQEC,YAAY,EAAE,EARhB;QASEC,OAAO,EAAE;MATX,CADQ;IADN,CADO;IAgBbC,OAAO,EAAE;MACPC,MAAM,EAAE;IADD;EAhBI,CAAf;AAoBD"},"metadata":{},"sourceType":"module"}