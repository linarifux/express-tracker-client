{"ast":null,"code":"import _slicedToArray from\"/home/linarifux/projects/expense-tracker/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import\"boxicons\";import{default as api}from\"../store/apiSlice\";import Backup from\"./extra/Backup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var List=function List(){var _api$useGetLabelsQuer=api.useGetLabelsQuery(),data=_api$useGetLabelsQuer.data,isFetching=_api$useGetLabelsQuer.isFetching,isLoading=_api$useGetLabelsQuer.isLoading,isError=_api$useGetLabelsQuer.isError;var _api$useDeleteTransac=api.useDeleteTransactionMutation(),_api$useDeleteTransac2=_slicedToArray(_api$useDeleteTransac,1),deleteTransaction=_api$useDeleteTransac2[0];var handlerClick=function handlerClick(e){if(!e.target.dataset.id)return 0;deleteTransaction(e.target.dataset.id);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col py-6 gap-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"py-4 font-bold text-xl\",children:\"History\"}),data===null||data===void 0?void 0:data.map(function(v,i){return/*#__PURE__*/_jsx(Transacton,{category:v,isFetching:isFetching,isLoading:isLoading,isError:isError,handler:handlerClick},i);})]});};function Transacton(_ref){var _category$color,_category$color2,_category$name;var category=_ref.category,isError=_ref.isError,isFetching=_ref.isFetching,isLoading=_ref.isLoading,handler=_ref.handler;if(!category){return/*#__PURE__*/_jsx(Backup,{isError:isError,isFetching:isFetching,isLoading:isLoading});}return/*#__PURE__*/_jsxs(\"div\",{className:\"item flex justify-center bg-gray-50 py-2 rounded-r\",style:{borderRight:\"8px solid \".concat((_category$color=category.color)!==null&&_category$color!==void 0?_category$color:\"#e5e5e5\")},children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-3\",onClick:handler,children:/*#__PURE__*/_jsx(\"box-icon\",{\"data-id\":category._id,name:\"trash\",size:\"25px\",color:(_category$color2=category.color)!==null&&_category$color2!==void 0?_category$color2:\"#e5e5e5\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"block w-full\",children:(_category$name=category.name)!==null&&_category$name!==void 0?_category$name:\"\"})]});}export default List;","map":{"version":3,"names":["React","default","api","Backup","List","useGetLabelsQuery","data","isFetching","isLoading","isError","useDeleteTransactionMutation","deleteTransaction","handlerClick","e","target","dataset","id","map","v","i","Transacton","category","handler","borderRight","color","_id","name"],"sources":["/home/linarifux/projects/expense-tracker/client/src/components/List.jsx"],"sourcesContent":["import React from \"react\";\nimport \"boxicons\";\n\nimport { default as api } from \"../store/apiSlice\";\nimport Backup from \"./extra/Backup\";\n\nconst List = () => {\n  const { data, isFetching, isLoading, isError } = api.useGetLabelsQuery();\n  const [deleteTransaction] = api.useDeleteTransactionMutation();\n\n  const handlerClick = (e) => {\n    if(!e.target.dataset.id) return 0\n    deleteTransaction(e.target.dataset.id)\n  };\n\n  return (\n    <div className=\"flex flex-col py-6 gap-3\">\n      <h1 className=\"py-4 font-bold text-xl\">History</h1>\n      {data?.map((v, i) => (\n        <Transacton\n          category={v}\n          key={i}\n          isFetching={isFetching}\n          isLoading={isLoading}\n          isError={isError}\n          handler={handlerClick}\n        />\n      ))}\n    </div>\n  );\n};\n\nfunction Transacton({ category, isError, isFetching, isLoading, handler }) {\n  if (!category) {\n    return (\n      <Backup isError={isError} isFetching={isFetching} isLoading={isLoading} />\n    );\n  }\n  return (\n    <div\n      className=\"item flex justify-center bg-gray-50 py-2 rounded-r\"\n      style={{ borderRight: `8px solid ${category.color ?? \"#e5e5e5\"}` }}\n    >\n      <button className=\"px-3\" onClick={handler}>\n        <box-icon\n          data-id={category._id}\n          name=\"trash\"\n          size=\"25px\"\n          color={category.color ?? \"#e5e5e5\"}\n        ></box-icon>\n      </button>\n      <span className=\"block w-full\">{category.name ?? \"\"}</span>\n    </div>\n  );\n}\n\nexport default List;\n"],"mappings":"qIAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAO,UAAP,CAEA,OAASC,OAAO,GAAIC,IAApB,KAA+B,mBAA/B,CACA,MAAOC,OAAP,KAAmB,gBAAnB,C,wFAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACjB,0BAAiDF,GAAG,CAACG,iBAAJ,EAAjD,CAAQC,IAAR,uBAAQA,IAAR,CAAcC,UAAd,uBAAcA,UAAd,CAA0BC,SAA1B,uBAA0BA,SAA1B,CAAqCC,OAArC,uBAAqCA,OAArC,CACA,0BAA4BP,GAAG,CAACQ,4BAAJ,EAA5B,gEAAOC,iBAAP,2BAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CAC1B,GAAG,CAACA,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiBC,EAArB,CAAyB,MAAO,EAAP,CACzBL,iBAAiB,CAACE,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiBC,EAAlB,CAAjB,CACD,CAHD,CAKA,mBACE,aAAK,SAAS,CAAC,0BAAf,wBACE,WAAI,SAAS,CAAC,wBAAd,qBADF,CAEGV,IAFH,SAEGA,IAFH,iBAEGA,IAAI,CAAEW,GAAN,CAAU,SAACC,CAAD,CAAIC,CAAJ,qBACT,KAAC,UAAD,EACE,QAAQ,CAAED,CADZ,CAGE,UAAU,CAAEX,UAHd,CAIE,SAAS,CAAEC,SAJb,CAKE,OAAO,CAAEC,OALX,CAME,OAAO,CAAEG,YANX,EAEOO,CAFP,CADS,EAAV,CAFH,GADF,CAeD,CAxBD,CA0BA,QAASC,WAAT,MAA2E,wDAArDC,SAAqD,MAArDA,QAAqD,CAA3CZ,OAA2C,MAA3CA,OAA2C,CAAlCF,UAAkC,MAAlCA,UAAkC,CAAtBC,SAAsB,MAAtBA,SAAsB,CAAXc,OAAW,MAAXA,OAAW,CACzE,GAAI,CAACD,QAAL,CAAe,CACb,mBACE,KAAC,MAAD,EAAQ,OAAO,CAAEZ,OAAjB,CAA0B,UAAU,CAAEF,UAAtC,CAAkD,SAAS,CAAEC,SAA7D,EADF,CAGD,CACD,mBACE,aACE,SAAS,CAAC,oDADZ,CAEE,KAAK,CAAE,CAAEe,WAAW,sCAAeF,QAAQ,CAACG,KAAxB,mDAAiC,SAAjC,CAAb,CAFT,wBAIE,eAAQ,SAAS,CAAC,MAAlB,CAAyB,OAAO,CAAEF,OAAlC,uBACE,iBACE,UAASD,QAAQ,CAACI,GADpB,CAEE,IAAI,CAAC,OAFP,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,mBAAEJ,QAAQ,CAACG,KAAX,qDAAoB,SAJ3B,EADF,EAJF,cAYE,aAAM,SAAS,CAAC,cAAhB,0BAAgCH,QAAQ,CAACK,IAAzC,iDAAiD,EAAjD,EAZF,GADF,CAgBD,CAED,cAAetB,KAAf"},"metadata":{},"sourceType":"module"}